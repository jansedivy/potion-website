webpackJsonp([7],[
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	var Potion = __webpack_require__(1);
	
	var app;
	
	var GameState = function GameState() {};
	
	GameState.prototype.init = function () {
	  this.position = 0;
	  this.totalTime = 0;
	};
	
	GameState.prototype.update = function (time) {
	  this.totalTime += time;
	  this.position = Math.sin(this.totalTime) * (app.width - 80) / 2 + (app.width - 80) / 2;
	};
	
	GameState.prototype.render = function () {
	  app.video.ctx.fillStyle = "#bada55";
	  app.video.ctx.fillRect(this.position, app.height - 100, 80, 100);
	
	  app.video.ctx.fillStyle = "black";
	  app.video.ctx.font = "20px sans-serif";
	  app.video.ctx.textAlign = "left";
	  app.video.ctx.textBaseline = "top";
	  app.video.ctx.fillText("Esc to pause", 10, 10);
	};
	
	GameState.prototype.keydown = function (key) {
	  if (key === 27) {
	    // esc
	    app.states.pause("game");
	    app.states.enable("pause");
	  }
	};
	
	var PauseState = function PauseState() {};
	
	PauseState.prototype.render = function () {
	  app.video.ctx.fillStyle = "black";
	  app.video.ctx.font = "20px sans-serif";
	  app.video.ctx.textAlign = "center";
	  app.video.ctx.textBaseline = "middle";
	  app.video.ctx.fillText("Pause", app.width / 2, 100);
	
	  app.video.ctx.fillStyle = "rgba(0, 0, 0, 0.4)";
	  app.video.ctx.fillRect(0, 0, app.width, app.height);
	};
	
	PauseState.prototype.keydown = function (key) {
	  if (key === 27) {
	    // esc
	    app.states.disable("pause");
	    app.states.unpause("game");
	  }
	};
	
	var MenuState = function MenuState() {};
	
	MenuState.prototype.render = function () {
	  app.video.ctx.fillStyle = "black";
	  app.video.ctx.font = "20px sans-serif";
	  app.video.ctx.textAlign = "center";
	  app.video.ctx.textBaseline = "middle";
	  app.video.ctx.fillText("Main Menu", app.width / 2, 100);
	
	  app.video.ctx.font = "14px sans-serif";
	  app.video.ctx.fillText("Press any key to start the game", app.width / 2, 160);
	};
	
	MenuState.prototype.keyup = function () {
	  app.states.enable("game");
	  app.states.disable("menu");
	};
	
	app = Potion.init(document.querySelector(".game"), {
	  init: function init() {
	    app.states.add("game", new GameState());
	    app.states.add("pause", new PauseState());
	    app.states.add("menu", new MenuState());
	
	    app.states.disable("game");
	    app.states.disable("pause");
	  }
	});

/***/ }
]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy8wNy1zdGF0ZS1tYW5hZ2VyL2FwcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxLQUFJLE1BQU0sR0FBRyxtQkFBTyxDQUFDLENBQVEsQ0FBQyxDQUFDOztBQUUvQixLQUFJLEdBQUcsQ0FBQzs7QUFFUixLQUFJLFNBQVMsR0FBRyxxQkFBVyxFQUFFLENBQUM7O0FBRTlCLFVBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLFlBQVc7QUFDcEMsT0FBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7QUFDbEIsT0FBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7RUFDcEIsQ0FBQzs7QUFFRixVQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxVQUFTLElBQUksRUFBRTtBQUMxQyxPQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQztBQUN2QixPQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEdBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxFQUFFLElBQUUsQ0FBQyxDQUFDO0VBQ3BGLENBQUM7O0FBRUYsVUFBUyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBVztBQUN0QyxNQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0FBQ3BDLE1BQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEdBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQzs7QUFFL0QsTUFBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQztBQUNsQyxNQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLENBQUM7QUFDdkMsTUFBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQztBQUNqQyxNQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO0FBQ25DLE1BQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0VBQ2hELENBQUM7O0FBRUYsVUFBUyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsVUFBUyxHQUFHLEVBQUU7QUFDMUMsT0FBSSxHQUFHLEtBQUssRUFBRSxFQUFFOztBQUNkLFFBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3pCLFFBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzVCO0VBQ0YsQ0FBQzs7QUFFRixLQUFJLFVBQVUsR0FBRyxzQkFBVyxFQUFFLENBQUM7O0FBRS9CLFdBQVUsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFlBQVc7QUFDdkMsTUFBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQztBQUNsQyxNQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLENBQUM7QUFDdkMsTUFBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztBQUNuQyxNQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsUUFBUSxDQUFDO0FBQ3RDLE1BQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7O0FBRWxELE1BQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxvQkFBb0IsQ0FBQztBQUMvQyxNQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztFQUNyRCxDQUFDOztBQUdGLFdBQVUsQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLFVBQVMsR0FBRyxFQUFFO0FBQzNDLE9BQUksR0FBRyxLQUFLLEVBQUUsRUFBRTs7QUFDZCxRQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM1QixRQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1QjtFQUNGLENBQUM7O0FBRUYsS0FBSSxTQUFTLEdBQUcscUJBQVcsRUFBRSxDQUFDOztBQUU5QixVQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxZQUFXO0FBQ3RDLE1BQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7QUFDbEMsTUFBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLGlCQUFpQixDQUFDO0FBQ3ZDLE1BQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7QUFDbkMsTUFBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQztBQUN0QyxNQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDOztBQUV0RCxNQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLENBQUM7QUFDdkMsTUFBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLGlDQUFpQyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0VBQzdFLENBQUM7O0FBRUYsVUFBUyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsWUFBVztBQUNyQyxNQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMxQixNQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztFQUM1QixDQUFDOztBQUVGLElBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEVBQUU7QUFDakQsT0FBSSxFQUFFLGdCQUFXO0FBQ2YsUUFBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLElBQUksU0FBUyxFQUFFLENBQUMsQ0FBQztBQUN4QyxRQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxVQUFVLEVBQUUsQ0FBQyxDQUFDO0FBQzFDLFFBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLFNBQVMsRUFBRSxDQUFDLENBQUM7O0FBRXhDLFFBQUcsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzNCLFFBQUcsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzdCO0VBQ0YsQ0FBQyxDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFBvdGlvbiA9IHJlcXVpcmUoJ3BvdGlvbicpO1xuXG52YXIgYXBwO1xuXG52YXIgR2FtZVN0YXRlID0gZnVuY3Rpb24oKSB7fTtcblxuR2FtZVN0YXRlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucG9zaXRpb24gPSAwO1xuICB0aGlzLnRvdGFsVGltZSA9IDA7XG59O1xuXG5HYW1lU3RhdGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKHRpbWUpIHtcbiAgdGhpcy50b3RhbFRpbWUgKz0gdGltZTtcbiAgdGhpcy5wb3NpdGlvbiA9IE1hdGguc2luKHRoaXMudG90YWxUaW1lKSAqIChhcHAud2lkdGggLSA4MCkvMiArIChhcHAud2lkdGggLSA4MCkvMjtcbn07XG5cbkdhbWVTdGF0ZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIGFwcC52aWRlby5jdHguZmlsbFN0eWxlID0gJyNiYWRhNTUnO1xuICBhcHAudmlkZW8uY3R4LmZpbGxSZWN0KHRoaXMucG9zaXRpb24sIGFwcC5oZWlnaHQtMTAwLCA4MCwgMTAwKTtcblxuICBhcHAudmlkZW8uY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gIGFwcC52aWRlby5jdHguZm9udCA9ICcyMHB4IHNhbnMtc2VyaWYnO1xuICBhcHAudmlkZW8uY3R4LnRleHRBbGlnbiA9ICdsZWZ0JztcbiAgYXBwLnZpZGVvLmN0eC50ZXh0QmFzZWxpbmUgPSAndG9wJztcbiAgYXBwLnZpZGVvLmN0eC5maWxsVGV4dCgnRXNjIHRvIHBhdXNlJywgMTAsIDEwKTtcbn07XG5cbkdhbWVTdGF0ZS5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uKGtleSkge1xuICBpZiAoa2V5ID09PSAyNykgeyAvLyBlc2NcbiAgICBhcHAuc3RhdGVzLnBhdXNlKCdnYW1lJyk7XG4gICAgYXBwLnN0YXRlcy5lbmFibGUoJ3BhdXNlJyk7XG4gIH1cbn07XG5cbnZhciBQYXVzZVN0YXRlID0gZnVuY3Rpb24oKSB7fTtcblxuUGF1c2VTdGF0ZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIGFwcC52aWRlby5jdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgYXBwLnZpZGVvLmN0eC5mb250ID0gJzIwcHggc2Fucy1zZXJpZic7XG4gIGFwcC52aWRlby5jdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gIGFwcC52aWRlby5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gIGFwcC52aWRlby5jdHguZmlsbFRleHQoJ1BhdXNlJywgYXBwLndpZHRoLzIsIDEwMCk7XG5cbiAgYXBwLnZpZGVvLmN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjQpJztcbiAgYXBwLnZpZGVvLmN0eC5maWxsUmVjdCgwLCAwLCBhcHAud2lkdGgsIGFwcC5oZWlnaHQpO1xufTtcblxuXG5QYXVzZVN0YXRlLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24oa2V5KSB7XG4gIGlmIChrZXkgPT09IDI3KSB7IC8vIGVzY1xuICAgIGFwcC5zdGF0ZXMuZGlzYWJsZSgncGF1c2UnKTtcbiAgICBhcHAuc3RhdGVzLnVucGF1c2UoJ2dhbWUnKTtcbiAgfVxufTtcblxudmFyIE1lbnVTdGF0ZSA9IGZ1bmN0aW9uKCkge307XG5cbk1lbnVTdGF0ZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIGFwcC52aWRlby5jdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgYXBwLnZpZGVvLmN0eC5mb250ID0gJzIwcHggc2Fucy1zZXJpZic7XG4gIGFwcC52aWRlby5jdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gIGFwcC52aWRlby5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gIGFwcC52aWRlby5jdHguZmlsbFRleHQoJ01haW4gTWVudScsIGFwcC53aWR0aC8yLCAxMDApO1xuXG4gIGFwcC52aWRlby5jdHguZm9udCA9ICcxNHB4IHNhbnMtc2VyaWYnO1xuICBhcHAudmlkZW8uY3R4LmZpbGxUZXh0KCdQcmVzcyBhbnkga2V5IHRvIHN0YXJ0IHRoZSBnYW1lJywgYXBwLndpZHRoLzIsIDE2MCk7XG59O1xuXG5NZW51U3RhdGUucHJvdG90eXBlLmtleXVwID0gZnVuY3Rpb24oKSB7XG4gIGFwcC5zdGF0ZXMuZW5hYmxlKCdnYW1lJyk7XG4gIGFwcC5zdGF0ZXMuZGlzYWJsZSgnbWVudScpO1xufTtcblxuYXBwID0gUG90aW9uLmluaXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUnKSwge1xuICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICBhcHAuc3RhdGVzLmFkZCgnZ2FtZScsIG5ldyBHYW1lU3RhdGUoKSk7XG4gICAgYXBwLnN0YXRlcy5hZGQoJ3BhdXNlJywgbmV3IFBhdXNlU3RhdGUoKSk7XG4gICAgYXBwLnN0YXRlcy5hZGQoJ21lbnUnLCBuZXcgTWVudVN0YXRlKCkpO1xuXG4gICAgYXBwLnN0YXRlcy5kaXNhYmxlKCdnYW1lJyk7XG4gICAgYXBwLnN0YXRlcy5kaXNhYmxlKCdwYXVzZScpO1xuICB9XG59KTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vZXhhbXBsZXMvMDctc3RhdGUtbWFuYWdlci9hcHAuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIwNy1zdGF0ZS1tYW5hZ2VyLmpzIn0=