webpackJsonp([8],[
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	/* global PIXI */
	
	"use strict";
	
	var Potion = __webpack_require__(1);
	
	var app;
	
	var Particle = function Particle(x, y) {
	  this.x = x;
	  this.y = y;
	
	  this.r = 1;
	
	  this.dx = Math.random() * 100 - 50;
	  this.dy = Math.random() * 100 - 50;
	
	  this.speed = 250;
	
	  this.object = new PIXI.Sprite(app.assets.get("particle.png"));
	  this.object.tint = 16777215 * Math.random();
	
	  this.object.blendMode = PIXI.blendModes.ADD;
	
	  app.stage.addChild(this.object);
	};
	
	Particle.prototype.update = function (time) {
	  var angle = Math.atan2(app.centerY - this.y, app.centerX - this.x);
	
	  this.dx += Math.cos(angle) * 5 * this.speed * time;
	  this.dy += Math.sin(angle) * 5 * this.speed * time;
	
	  this.dx = this.dx + (0 - this.dx) * time / 2;
	  this.dy = this.dy + (0 - this.dy) * time / 2;
	
	  this.r = Math.sqrt(Math.pow(this.dx, 2) + Math.pow(this.dy, 2)) / 200 + 0.2;
	
	  this.x += this.dx * time;
	  this.y += this.dy * time;
	
	  this.object.scale.set(this.r / 2);
	  this.object.position.x = this.x;
	  this.object.position.y = this.y;
	};
	
	app = Potion.init(document.querySelector(".game"), {
	  configure: function configure() {
	    this.setSize(document.body.clientWidth, document.body.clientHeight);
	    this.config.allowHiDPI = false;
	    this.config.getCanvasContext = false;
	
	    this.renderer = new PIXI.WebGLRenderer(this.width, this.height, { resolution: this.config.allowHiDPI ? 2 : 1, view: this.canvas });
	
	    this.assets.addLoader("pixi", (function (url, callback) {
	      this.assets._loaders.image(url, function (image) {
	        callback(new PIXI.Texture(new PIXI.BaseTexture(image)));
	      });
	    }).bind(this));
	
	    this.assets.load("pixi", "particle.png");
	  },
	
	  init: function init() {
	    this.centerX = this.width / 2;
	    this.centerY = this.height / 2;
	
	    this.prevX = null;
	    this.prevY = null;
	
	    this.particles = [];
	    this.stage = new PIXI.Stage(526885);
	  },
	
	  mouseup: function mouseup() {
	    this.prevX = null;
	    this.prevY = null;
	  },
	
	  update: function update(time) {
	    if (app.input.mouse.isDown) {
	      if (this.prevX == null || this.prevY == null) {
	        this.prevX = app.input.mouse.x;
	        this.prevY = app.input.mouse.y;
	      }
	
	      for (var i = 0; i < 100; i++) {
	        var angle = Math.random() * Math.PI * 2;
	        var distance = Math.random() * 200 + 4;
	
	        var particle = new Particle(Math.cos(angle) * distance + app.input.mouse.x, Math.sin(angle) * distance + app.input.mouse.y);
	
	        particle.dx += (app.input.mouse.x - this.prevX) * Math.random() * 40;
	        particle.dy += (app.input.mouse.y - this.prevY) * Math.random() * 40;
	
	        this.particles.push(particle);
	      }
	
	      this.prevX = app.input.mouse.x;
	      this.prevY = app.input.mouse.y;
	    }
	
	    for (var i = 0, len = this.particles.length; i < len; i++) {
	      this.particles[i].update(time);
	    }
	  },
	
	  render: function render() {
	    this.renderer.render(this.stage);
	  }
	});

/***/ }
]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9kZW1vLWdyYXZpdHkvYXBwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRUEsS0FBSSxNQUFNLEdBQUcsbUJBQU8sQ0FBQyxDQUFRLENBQUMsQ0FBQzs7QUFFL0IsS0FBSSxHQUFHLENBQUM7O0FBRVIsS0FBSSxRQUFRLEdBQUcsa0JBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUM1QixPQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNYLE9BQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztBQUVYLE9BQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztBQUVYLE9BQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7QUFDbkMsT0FBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQzs7QUFFbkMsT0FBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7O0FBRWpCLE9BQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7QUFDOUQsT0FBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQzs7QUFFNUMsT0FBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUM7O0FBRTVDLE1BQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztFQUNqQyxDQUFDOztBQUVGLFNBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFVBQVMsSUFBSSxFQUFFO0FBQ3pDLE9BQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUVuRSxPQUFJLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0FBQ25ELE9BQUksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7O0FBRW5ELE9BQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxJQUFJLElBQUksR0FBQyxDQUFDLENBQUM7QUFDM0MsT0FBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxHQUFDLENBQUMsQ0FBQzs7QUFFM0MsT0FBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDOztBQUU1RSxPQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDO0FBQ3pCLE9BQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUM7O0FBRXpCLE9BQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ2xDLE9BQUksQ0FBQyxNQUFNLENBQUMs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QUFDO0FBQ3RDLGFBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDOztBQUV2QyxhQUFJLFFBQVEsR0FBRyxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLFFBQVEsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxRQUFRLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7O0FBRTVILGlCQUFRLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQztBQUNyRSxpQkFBUSxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUM7O0FBRXJFLGFBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQy9COztBQUVELFdBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQy9CLFdBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO01BQ2hDOztBQUdELFVBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLEdBQUcsR0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ25ELFdBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO01BQ2hDO0lBQ0Y7O0FBRUQsU0FBTSxFQUFFLGtCQUFXO0FBQ2pCLFNBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNsQztFQUNGLENBQUMsQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBQSVhJICovXG5cbnZhciBQb3Rpb24gPSByZXF1aXJlKCdwb3Rpb24nKTtcblxudmFyIGFwcDtcblxudmFyIFBhcnRpY2xlID0gZnVuY3Rpb24oeCwgeSkge1xuICB0aGlzLnggPSB4O1xuICB0aGlzLnkgPSB5O1xuXG4gIHRoaXMuciA9IDE7XG5cbiAgdGhpcy5keCA9IE1hdGgucmFuZG9tKCkgKiAxMDAgLSA1MDtcbiAgdGhpcy5keSA9IE1hdGgucmFuZG9tKCkgKiAxMDAgLSA1MDtcblxuICB0aGlzLnNwZWVkID0gMjUwO1xuXG4gIHRoaXMub2JqZWN0ID0gbmV3IFBJWEkuU3ByaXRlKGFwcC5hc3NldHMuZ2V0KCdwYXJ0aWNsZS5wbmcnKSk7XG4gIHRoaXMub2JqZWN0LnRpbnQgPSAweGZmZmZmZiAqIE1hdGgucmFuZG9tKCk7XG5cbiAgdGhpcy5vYmplY3QuYmxlbmRNb2RlID0gUElYSS5ibGVuZE1vZGVzLkFERDtcblxuICBhcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5vYmplY3QpO1xufTtcblxuUGFydGljbGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKHRpbWUpIHtcbiAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMihhcHAuY2VudGVyWSAtIHRoaXMueSwgYXBwLmNlbnRlclggLSB0aGlzLngpO1xuXG4gIHRoaXMuZHggKz0gTWF0aC5jb3MoYW5nbGUpICogNSAqIHRoaXMuc3BlZWQgKiB0aW1lO1xuICB0aGlzLmR5ICs9IE1hdGguc2luKGFuZ2xlKSAqIDUgKiB0aGlzLnNwZWVkICogdGltZTtcblxuICB0aGlzLmR4ID0gdGhpcy5keCArICgwIC0gdGhpcy5keCkgKiB0aW1lLzI7XG4gIHRoaXMuZHkgPSB0aGlzLmR5ICsgKDAgLSB0aGlzLmR5KSAqIHRpbWUvMjtcblxuICB0aGlzLnIgPSBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy5keCwgMikgKyBNYXRoLnBvdyh0aGlzLmR5LCAyKSkgLyAyMDAgKyAwLjI7XG5cbiAgdGhpcy54ICs9IHRoaXMuZHggKiB0aW1lO1xuICB0aGlzLnkgKz0gdGhpcy5keSAqIHRpbWU7XG5cbiAgdGhpcy5vYmplY3Quc2NhbGUuc2V0KHRoaXMuciAvIDIpO1xuICB0aGlzLm9iamVjdC5wb3NpdGlvbi54ID0gdGhpcy54O1xuICB0aGlzLm9iamVjdC5wb3NpdGlvbi55ID0gdGhpcy55O1xufTtcblxuYXBwID0gUG90aW9uLmluaXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUnKSwge1xuICBjb25maWd1cmU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0U2l6ZShkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCk7XG4gICAgdGhpcy5jb25maWcuYWxsb3dIaURQSSA9IGZhbHNlO1xuICAgIHRoaXMuY29uZmlnLmdldENhbnZhc0NvbnRleHQgPSBmYWxzZTtcblxuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgUElYSS5XZWJHTFJlbmRlcmVyKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB7IHJlc29sdXRpb246IHRoaXMuY29uZmlnLmFsbG93SGlEUEkgPyAyIDogMSwgdmlldzogdGhpcy5jYW52YXMgfSk7XG5cbiAgICB0aGlzLmFzc2V0cy5hZGRMb2FkZXIoJ3BpeGknLCBmdW5jdGlvbih1cmwsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLmFzc2V0cy5fbG9hZGVycy5pbWFnZSh1cmwsIGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgICAgIGNhbGxiYWNrKG5ldyBQSVhJLlRleHR1cmUobmV3IFBJWEkuQmFzZVRleHR1cmUoaW1hZ2UpKSk7XG4gICAgICB9KTtcbiAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5hc3NldHMubG9hZCgncGl4aScsICdwYXJ0aWNsZS5wbmcnKTtcbiAgfSxcblxuICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNlbnRlclggPSB0aGlzLndpZHRoLzI7XG4gICAgdGhpcy5jZW50ZXJZID0gdGhpcy5oZWlnaHQvMjtcblxuICAgIHRoaXMucHJldlggPSBudWxsO1xuICAgIHRoaXMucHJldlkgPSBudWxsO1xuXG4gICAgdGhpcy5wYXJ0aWNsZXMgPSBbXTtcbiAgICB0aGlzLnN0YWdlID0gbmV3IFBJWEkuU3RhZ2UoMHgwODBhMjUpO1xuICB9LFxuXG4gIG1vdXNldXA6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucHJldlggPSBudWxsO1xuICAgIHRoaXMucHJldlkgPSBudWxsO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24odGltZSkge1xuICAgIGlmIChhcHAuaW5wdXQubW91c2UuaXNEb3duKSB7XG4gICAgICBpZiAodGhpcy5wcmV2WCA9PSBudWxsIHx8IHRoaXMucHJldlkgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnByZXZYID0gYXBwLmlucHV0Lm1vdXNlLng7XG4gICAgICAgIHRoaXMucHJldlkgPSBhcHAuaW5wdXQubW91c2UueTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaT0wOyBpPDEwMDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmdsZSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJKjI7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGgucmFuZG9tKCkgKiAyMDAgKyA0O1xuXG4gICAgICAgIHZhciBwYXJ0aWNsZSA9IG5ldyBQYXJ0aWNsZShNYXRoLmNvcyhhbmdsZSkgKiBkaXN0YW5jZSArIGFwcC5pbnB1dC5tb3VzZS54LCBNYXRoLnNpbihhbmdsZSkgKiBkaXN0YW5jZSArIGFwcC5pbnB1dC5tb3VzZS55KTtcblxuICAgICAgICBwYXJ0aWNsZS5keCArPSAoYXBwLmlucHV0Lm1vdXNlLnggLSB0aGlzLnByZXZYKSAqIE1hdGgucmFuZG9tKCkgKiA0MDtcbiAgICAgICAgcGFydGljbGUuZHkgKz0gKGFwcC5pbnB1dC5tb3VzZS55IC0gdGhpcy5wcmV2WSkgKiBNYXRoLnJhbmRvbSgpICogNDA7XG5cbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMucHVzaChwYXJ0aWNsZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJldlggPSBhcHAuaW5wdXQubW91c2UueDtcbiAgICAgIHRoaXMucHJldlkgPSBhcHAuaW5wdXQubW91c2UueTtcbiAgICB9XG5cblxuICAgIGZvciAodmFyIGk9MCwgbGVuPXRoaXMucGFydGljbGVzLmxlbmd0aDsgaTxsZW47IGkrKykge1xuICAgICAgdGhpcy5wYXJ0aWNsZXNbaV0udXBkYXRlKHRpbWUpO1xuICAgIH1cbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc3RhZ2UpO1xuICB9XG59KTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vZXhhbXBsZXMvZGVtby1ncmF2aXR5L2FwcC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6ImRlbW8tZ3Jhdml0eS5qcyJ9